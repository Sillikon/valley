<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgriControl | Вход</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background: url('https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1920&q=80') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #login-box, #main-content {
      background: rgba(255, 255, 255, 0.95);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 400px;
      text-align: center;
      display: none;
    }

    h2 {
      margin-bottom: 20px;
      color: #333;
    }

    input {
      padding: 12px;
      margin: 10px 0;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }

    button {
      padding: 12px;
      width: 100%;
      background: linear-gradient(to right, #4CAF50, #66bb6a);
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    button:hover {
      transform: scale(1.03);
    }

    #error {
      color: red;
      margin-top: 10px;
    }

    #dashboard {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    #gauge {
      width: 100px;
      height: 100px;
      position: relative;
    }

    #needle {
      width: 4px;
      height: 50px;
      background: black;
      position: absolute;
      bottom: 50%;
      left: 50%;
      transform-origin: bottom center;
    }

    .info {
      font-size: 18px;
      color: #222;
    }

    .start-animation {
      animation: spin 1s ease-in-out;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(720deg); }
    }

    @media (max-width: 600px) {
      #main-content, #login-box {
        padding: 20px;
        max-width: 90%;
      }
      .info {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div id="login-box">
    <h2>Вход в систему</h2>
    <input type="text" id="username" placeholder="Имя пользователя">
    <input type="password" id="password" placeholder="Пароль">
    <button onclick="login()">Войти</button>
    <p id="error"></p>
  </div>

  <div id="main-content">
    <h2>Панель управления Valley</h2>
    <div class="info">Направление: <span id="direction">-</span></div>
    <div class="info">Статус мотора: <span id="motor-status">-</span></div>
    <div class="info">Время работы: <span id="runtime">-</span></div>
    <div class="info">Угол:</div>
    <div id="gauge">
      <div id="needle"></div>
    </div>
    <button id="controlBtn" onclick="toggleMotor()">Старт</button>
    <div style="margin-top: 30px; font-size: 14px; color: #555">
      <p>Связь: +7 (900) 000-00-00</p>
      <p>Email: support@agricontrol.ru</p>
    </div>
  </div>

  <script>
    let motorRunning = false;

    function login() {
      const user = document.getElementById('username').value;
      const pass = document.getElementById('password').value;

      if (user === 'admin' && pass === 'agricontrol123') {
        localStorage.setItem('authenticated', 'true');
        showDashboard();
      } else {
        document.getElementById('error').textContent = 'Неверные имя пользователя или пароль';
      }
    }

    function toggleMotor() {
      motorRunning = !motorRunning;
      const btn = document.getElementById('controlBtn');

      if (motorRunning) {
        btn.textContent = 'Стоп';
        btn.classList.add('start-animation');
        document.getElementById('motor-status').textContent = 'В работе';
        setTimeout(() => btn.classList.remove('start-animation'), 1000);
      } else {
        btn.textContent = 'Старт';
        document.getElementById('motor-status').textContent = 'Остановлен';
      }
    }

    function updateGauge(angle) {
      const needle = document.getElementById('needle');
      needle.style.transform = `rotate(${angle - 90}deg)`;
    }

    function simulateData() {
      document.getElementById('direction').textContent = 'CW';
      document.getElementById('motor-status').textContent = 'Остановлен';
      document.getElementById('runtime').textContent = '00:00';
      updateGauge(15);
    }

    function showDashboard() {
      document.getElementById('login-box').style.display = 'none';
      document.getElementById('main-content').style.display = 'flex';
      simulateData();
    }

    window.onload = () => {
      if (localStorage.getItem('authenticated') === 'true') {
        showDashboard();
      } else {
        document.getElementById('login-box').style.display = 'block';
      }
    };
  </script>
</body>
</html>
